{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nexport const apiCall = async (method, endpoint, data = null, token = null) => {\n  try {\n    const config = {\n      method,\n      url: `${API_BASE_URL}${endpoint}`,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    if (data) {\n      config.data = data;\n    }\n    const response = await fetch(config.url, {\n      method: config.method,\n      headers: config.headers,\n      body: config.data ? JSON.stringify(config.data) : null\n    });\n    const result = await response.json();\n    if (!response.ok) {\n      throw new Error(result.message || 'API request failed');\n    }\n    return result;\n  } catch (error) {\n    throw error;\n  }\n};\n\n// Auth APIs\nexport const authAPI = {\n  register: data => apiCall('POST', '/auth/register', data),\n  registerMechanic: data => apiCall('POST', '/auth/register-mechanic', data),\n  login: data => apiCall('POST', '/auth/login', data),\n  getCurrentUser: token => apiCall('GET', '/auth/me', null, token),\n  updateProfile: (data, token) => apiCall('PUT', '/auth/profile', data, token)\n};\n\n// Service APIs\nexport const serviceAPI = {\n  createRequest: (data, token) => apiCall('POST', '/services', data, token),\n  getNearbyMechanics: (query, token) => apiCall('GET', `/services/nearby-mechanics?${query}`, null, token),\n  getUserRequests: token => apiCall('GET', '/services/my-requests', null, token),\n  getRequestById: (id, token) => apiCall('GET', `/services/${id}`, null, token),\n  cancelRequest: (id, token) => apiCall('PUT', `/services/${id}/cancel`, null, token)\n};\n\n// Booking APIs\nexport const bookingAPI = {\n  createBooking: (data, token) => apiCall('POST', '/bookings', data, token),\n  getUserBookings: token => apiCall('GET', '/bookings/my-bookings', null, token),\n  processPayment: (data, token) => apiCall('POST', '/bookings/payment', data, token),\n  getPaymentDetails: (id, token) => apiCall('GET', `/bookings/payment/${id}`, null, token),\n  cancelBooking: (id, token) => apiCall('DELETE', `/bookings/${id}`, null, token)\n};\n\n// Mechanic APIs\nexport const mechanicAPI = {\n  getProfile: (id, token) => apiCall('GET', `/mechanics/profile/${id}`, null, token),\n  getDashboard: token => apiCall('GET', '/mechanics/dashboard', null, token),\n  updateAvailability: (data, token) => apiCall('PUT', '/mechanics/availability', data, token),\n  acceptRequest: (requestId, token) => apiCall('PUT', `/mechanics/request/${requestId}/accept`, null, token),\n  getBookings: token => apiCall('GET', '/mechanics/bookings', null, token),\n  completeBooking: (bookingId, token) => apiCall('PUT', `/mechanics/booking/${bookingId}/complete`, null, token)\n};\n\n// Review APIs\nexport const reviewAPI = {\n  submitReview: (data, token) => apiCall('POST', '/reviews', data, token),\n  getMechanicReviews: (id, token) => apiCall('GET', `/reviews/mechanic/${id}`, null, token),\n  getUserReviews: token => apiCall('GET', '/reviews/user/my-reviews', null, token),\n  deleteReview: (id, token) => apiCall('DELETE', `/reviews/${id}`, null, token)\n};\n\n// SOS APIs\nexport const sosAPI = {\n  createSOS: (data, token) => apiCall('POST', '/sos', data, token),\n  getUserAlerts: token => apiCall('GET', '/sos/my-alerts', null, token),\n  getNearbyAlerts: (query, token) => apiCall('GET', `/sos/nearby?${query}`, null, token),\n  resolveSOS: (id, token) => apiCall('PUT', `/sos/${id}/resolve`, null, token)\n};\n\n// Chat APIs\nexport const chatAPI = {\n  sendMessage: (data, token) => apiCall('POST', '/chat/message', data, token),\n  getConversation: (userId, token) => apiCall('GET', `/chat/conversation/${userId}`, null, token),\n  getConversations: token => apiCall('GET', '/chat/list', null, token)\n};\n\n// Admin APIs\nexport const adminAPI = {\n  getDashboard: token => apiCall('GET', '/admin/dashboard', null, token),\n  getAllUsers: (query, token) => apiCall('GET', `/admin/users?${query}`, null, token),\n  getPendingMechanics: token => apiCall('GET', '/admin/mechanics/pending', null, token),\n  verifyMechanic: (id, token) => apiCall('PUT', `/admin/mechanic/${id}/verify`, null, token),\n  rejectMechanic: (id, token) => apiCall('PUT', `/admin/mechanic/${id}/reject`, null, token),\n  toggleUserBlock: (id, token) => apiCall('PUT', `/admin/user/${id}/toggle-block`, null, token)\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","apiCall","method","endpoint","data","token","config","url","headers","Authorization","response","fetch","body","JSON","stringify","result","json","ok","Error","message","error","authAPI","register","registerMechanic","login","getCurrentUser","updateProfile","serviceAPI","createRequest","getNearbyMechanics","query","getUserRequests","getRequestById","id","cancelRequest","bookingAPI","createBooking","getUserBookings","processPayment","getPaymentDetails","cancelBooking","mechanicAPI","getProfile","getDashboard","updateAvailability","acceptRequest","requestId","getBookings","completeBooking","bookingId","reviewAPI","submitReview","getMechanicReviews","getUserReviews","deleteReview","sosAPI","createSOS","getUserAlerts","getNearbyAlerts","resolveSOS","chatAPI","sendMessage","getConversation","userId","getConversations","adminAPI","getAllUsers","getPendingMechanics","verifyMechanic","rejectMechanic","toggleUserBlock"],"sources":["D:/Travel-Assist-Portal/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nexport const apiCall = async (method, endpoint, data = null, token = null) => {\r\n  try {\r\n    const config = {\r\n      method,\r\n      url: `${API_BASE_URL}${endpoint}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    if (data) {\r\n      config.data = data;\r\n    }\r\n\r\n    const response = await fetch(config.url, {\r\n      method: config.method,\r\n      headers: config.headers,\r\n      body: config.data ? JSON.stringify(config.data) : null,\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    if (!response.ok) {\r\n      throw new Error(result.message || 'API request failed');\r\n    }\r\n\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Auth APIs\r\nexport const authAPI = {\r\n  register: (data) => apiCall('POST', '/auth/register', data),\r\n  registerMechanic: (data) => apiCall('POST', '/auth/register-mechanic', data),\r\n  login: (data) => apiCall('POST', '/auth/login', data),\r\n  getCurrentUser: (token) => apiCall('GET', '/auth/me', null, token),\r\n  updateProfile: (data, token) => apiCall('PUT', '/auth/profile', data, token),\r\n};\r\n\r\n// Service APIs\r\nexport const serviceAPI = {\r\n  createRequest: (data, token) => apiCall('POST', '/services', data, token),\r\n  getNearbyMechanics: (query, token) => apiCall('GET', `/services/nearby-mechanics?${query}`, null, token),\r\n  getUserRequests: (token) => apiCall('GET', '/services/my-requests', null, token),\r\n  getRequestById: (id, token) => apiCall('GET', `/services/${id}`, null, token),\r\n  cancelRequest: (id, token) => apiCall('PUT', `/services/${id}/cancel`, null, token),\r\n};\r\n\r\n// Booking APIs\r\nexport const bookingAPI = {\r\n  createBooking: (data, token) => apiCall('POST', '/bookings', data, token),\r\n  getUserBookings: (token) => apiCall('GET', '/bookings/my-bookings', null, token),\r\n  processPayment: (data, token) => apiCall('POST', '/bookings/payment', data, token),\r\n  getPaymentDetails: (id, token) => apiCall('GET', `/bookings/payment/${id}`, null, token),\r\n  cancelBooking: (id, token) => apiCall('DELETE', `/bookings/${id}`, null, token),\r\n};\r\n\r\n// Mechanic APIs\r\nexport const mechanicAPI = {\r\n  getProfile: (id, token) => apiCall('GET', `/mechanics/profile/${id}`, null, token),\r\n  getDashboard: (token) => apiCall('GET', '/mechanics/dashboard', null, token),\r\n  updateAvailability: (data, token) => apiCall('PUT', '/mechanics/availability', data, token),\r\n  acceptRequest: (requestId, token) => apiCall('PUT', `/mechanics/request/${requestId}/accept`, null, token),\r\n  getBookings: (token) => apiCall('GET', '/mechanics/bookings', null, token),\r\n  completeBooking: (bookingId, token) => apiCall('PUT', `/mechanics/booking/${bookingId}/complete`, null, token),\r\n};\r\n\r\n// Review APIs\r\nexport const reviewAPI = {\r\n  submitReview: (data, token) => apiCall('POST', '/reviews', data, token),\r\n  getMechanicReviews: (id, token) => apiCall('GET', `/reviews/mechanic/${id}`, null, token),\r\n  getUserReviews: (token) => apiCall('GET', '/reviews/user/my-reviews', null, token),\r\n  deleteReview: (id, token) => apiCall('DELETE', `/reviews/${id}`, null, token),\r\n};\r\n\r\n// SOS APIs\r\nexport const sosAPI = {\r\n  createSOS: (data, token) => apiCall('POST', '/sos', data, token),\r\n  getUserAlerts: (token) => apiCall('GET', '/sos/my-alerts', null, token),\r\n  getNearbyAlerts: (query, token) => apiCall('GET', `/sos/nearby?${query}`, null, token),\r\n  resolveSOS: (id, token) => apiCall('PUT', `/sos/${id}/resolve`, null, token),\r\n};\r\n\r\n// Chat APIs\r\nexport const chatAPI = {\r\n  sendMessage: (data, token) => apiCall('POST', '/chat/message', data, token),\r\n  getConversation: (userId, token) => apiCall('GET', `/chat/conversation/${userId}`, null, token),\r\n  getConversations: (token) => apiCall('GET', '/chat/list', null, token),\r\n};\r\n\r\n// Admin APIs\r\nexport const adminAPI = {\r\n  getDashboard: (token) => apiCall('GET', '/admin/dashboard', null, token),\r\n  getAllUsers: (query, token) => apiCall('GET', `/admin/users?${query}`, null, token),\r\n  getPendingMechanics: (token) => apiCall('GET', '/admin/mechanics/pending', null, token),\r\n  verifyMechanic: (id, token) => apiCall('PUT', `/admin/mechanic/${id}/verify`, null, token),\r\n  rejectMechanic: (id, token) => apiCall('PUT', `/admin/mechanic/${id}/reject`, null, token),\r\n  toggleUserBlock: (id, token) => apiCall('PUT', `/admin/user/${id}/toggle-block`, null, token),\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}